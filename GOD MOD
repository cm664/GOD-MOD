local Players=game:GetService("Players")
local RunService=game:GetService("RunService")
local player=Players.LocalPlayer
local camera=workspace.CurrentCamera

local isGodmode=false
local ghostClone=nil
local connection=nil
local noclipConn=nil

local function cleanup()
isGodmode=false
if connection then connection:Disconnect() connection=nil end
if noclipConn then noclipConn:Disconnect() noclipConn=nil end
local char=player.Character
if char then
local root=char:FindFirstChild("HumanoidRootPart")
local hum=char:FindFirstChild("Humanoid")
for _,v in pairs(char:GetDescendants()) do
if v:IsA("BasePart") then v.CanCollide=true v.Velocity=Vector3.zero end
end
if ghostClone and root then root.CFrame=ghostClone.HumanoidRootPart.CFrame*CFrame.new(0,2,0) end
if hum then
hum.PlatformStand=false
hum:ChangeState(Enum.HumanoidStateType.Landed)
camera.CameraSubject=hum
end
end
if ghostClone then ghostClone:Destroy() ghostClone=nil end
end

local function toggleGod()
isGodmode=not isGodmode
local char=player.Character
if not char then return end
local root=char:FindFirstChild("HumanoidRootPart")
local hum=char:FindFirstChild("Humanoid")

if isGodmode and root and hum then
char.Archivable=true
ghostClone=char:Clone()
ghostClone.Parent=workspace
char.Archivable=false
for _,v in pairs(ghostClone:GetDescendants()) do
if v:IsA("BasePart") then v.Transparency=0.5 v.CanCollide=true end
end
hum.PlatformStand=true
camera.CameraSubject=ghostClone.Humanoid
noclipConn=RunService.Stepped:Connect(function()
if isGodmode and char then
for _,v in pairs(char:GetDescendants()) do
if v:IsA("BasePart") then v.CanCollide=false end
end
end
end)
connection=RunService.Heartbeat:Connect(function()
if ghostClone and char:FindFirstChild("HumanoidRootPart") then
ghostClone.Humanoid:Move(hum.MoveDirection)
ghostClone.Humanoid.Jump=hum.Jump
root.CFrame=ghostClone.HumanoidRootPart.CFrame*CFrame.new(0,-10,0)
root.AssemblyLinearVelocity=Vector3.zero
else
cleanup()
end
end)
else
cleanup()
end
end

local gui=Instance.new("ScreenGui",game.CoreGui)
gui.ResetOnSpawn=false

local btn=Instance.new("TextButton",gui)
btn.Size=UDim2.new(0,140,0,40)
btn.Position=UDim2.new(0.5,-70,0.6,0)
btn.BackgroundColor3=Color3.fromRGB(0,0,0)
btn.BackgroundTransparency=0.35
btn.Text="GOD MOD : OFF"
btn.TextColor3=Color3.fromRGB(255,255,255)
btn.Font=Enum.Font.GothamBold
btn.TextSize=14
btn.Active=true
btn.Draggable=true
btn.BorderSizePixel=0

local corner=Instance.new("UICorner",btn)
corner.CornerRadius=UDim.new(0,8)

local stroke=Instance.new("UIStroke",btn)
stroke.Color=Color3.fromRGB(15,15,15)
stroke.Thickness=3

btn.MouseButton1Click:Connect(function()
toggleGod()
btn.Text="GOD MOD : "..(isGodmode and "ON" or "OFF")
end)
